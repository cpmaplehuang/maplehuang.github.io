  <!DOCTYPE html>
            <html>
              <head>
                <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
                <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=_turnstileCb" async defer></script>
                <style>
                  html, body {
                    margin: 0;
                    padding: 0;
                    width: 100%;
                    height: 100%;
                    overflow: hidden;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                  }
                  #myWidget {
                   width: 100%;
                   max-width: 100%;
                   overflow: hidden;
                   background: transparent;
                 }
                 /* 强制Turnstile iframe占满容器 */
                 #myWidget iframe {
                   width: 100% !important;
                   max-width: 100% !important;
                }
                </style>
              </head>
              <body>
                <div id="myWidget" class="main-wrapper .KBch7 theme-light size-normal"></div>
                <script>
                  let widgetId;
                  let refreshTimer;
                
                  function _turnstileCb() {
                    widgetId = turnstile.render('#myWidget', {
                      language: 'zh-tw',
                      sitekey: '0x4AAAAAACAsfr5dgKVuKaAQ',
                      size: 'flexible',
                      execution: 'render',
                      callback: (token) => {
                        window.kmpJsBridge.callNative("GetToken", JSON.stringify({token:token}),
                            function (data) {
                   
                            }
                        ); 
                      },
                      //error callback
                      'error-callback': (error) => {
                            const widget = document.getElementById('myWidget');
                            widget.innerHTML = `
                                   <div style="display: flex; align-items: center; justify-content: space-between; 
                                              background: #ffebee; border: 1px solid #e57373; border-radius: 4px; 
                                              padding: 12px; color: #c62828; font-size: 14px;">
                                       <span>验证失败</span>
                                       <button onclick="turnstile.reset(widgetId)" 
                                       style="background: #f44336; color: white; border: none; 
                                              border-radius: 50%; width: 32px; height: 32px; cursor: pointer; 
                                              display: flex; align-items: center; justify-content: center;">
                                              <div style="width: 16px; height: 16px; border: 2px solid white; 
                                              border-top: 2px solid transparent; border-radius: 50%;"></div>
                                       </button>
                                   </div>`;
                        window.kmpJsBridge.callNative("OnError", JSON.stringify({error:error}),
                           function (data) {
                 
                           }
                        );  
                        window.kmpJsBridge.callNative("GetToken", JSON.stringify({token:""}),
                              function (data) {
                             
                              }
                        ); 
                      },
                      //expired callback
                     'expired-callback': function() {
                         console.log('Token expired');
                         window.kmpJsBridge.callNative("GetToken", JSON.stringify({token:""}),
                              function (data) {
                             
                              }
                        ); 
                      },
                      //timeout callback
                      'timeout-callback': function() {
                           console.log('Challenge timed out');
                           window.kmpJsBridge.callNative("GetToken", JSON.stringify({token:""}),
                              function (data) {
                             
                              }
                           ); 
                      }
                      //end of callbacks
                    });
                    
                    setTimeout(() => {
                      const widget = document.getElementById('myWidget');
                      const height = widget ? widget.offsetHeight : 80;
                      window.location.href = 'message://HEIGHT:' + height;
                    }, 1000);
            
                  }
              
                </script>

              </body>
            </html>